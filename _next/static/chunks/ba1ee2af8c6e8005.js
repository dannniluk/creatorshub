(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61023,e=>{"use strict";var t=e.i(38122),a=e.i(36624);let r={character_lock:"Один и тот же главный герой во всех кадрах, стабильная внешность и возраст.",style_lock:"Кинематографичный реализм, чистая фактура, без стилизации под 3D/аниме.",composition_lock:"Четкий главный объект, читаемая глубина плана, без визуального шума.",negative_lock:"без деформаций лица, без лишних пальцев, без артефактов, без watermark",text_policy:"NO-TEXT STRICT"},l={establishing:24,portrait:50,detail:85},s=["Establishing","Portrait","Detail"],i=[{mood:"Clean Commercial",category:"Мода"},{mood:"Warm Lifestyle",category:"Люди"},{mood:"Gritty Urban",category:"Люди"},{mood:"Cinematic Drama",category:"Люди"},{mood:"Noir Night",category:"Мода"},{mood:"Dreamy Pastel",category:"Еда"},{mood:"Documentary Natural",category:"Медицина"},{mood:"Editorial Minimal",category:"Еда"}].flatMap((e,t)=>s.map((a,i)=>{var o,n,c;let d;return o=e.mood,n=e.category,c=t*s.length+i+1,d=a.toLowerCase(),{id:`${o.toLowerCase().replaceAll(" ","-")}-${d}`,title:`${o} • ${a}`,mood:o,shot_type:a,category:n,image_url:`https://picsum.photos/seed/cinema-${c}/1000/1300`,description:`Референс для настроения \xab${o}\xbb с типом кадра \xab${a}\xbb.`,tags:[o,a,n,"Cinema Studio"],core6_defaults:{camera_format:"Clean Commercial"===o?"Sony A1":"ARRI ALEXA Mini LF",lens_type:"Cinematic Drama"===o?"Anamorphic Prime":"Spherical Prime",focal_length_mm:l[d]??35,aperture:"Gritty Urban"===o?"f/4":"f/2.8",lighting_style:"Warm Lifestyle"===o?"Мягкий ключ с деликатным заполнением":"Кинематографичный направленный ключ",camera_movement:"Establishing"===a?"Медленный наезд":"Мягкий handheld"},locked_core_defaults:{...r},example_prompts:{nano:`Nano Banana Pro Prompt
Mood: ${o}
Shot: ${a}
Intent: Фотореалистичный кадр с кинематографичной глубиной.`}}})),o=[{id:"base",label:"Базовый",summary:"Исходная настройка без дополнительных изменений",overrides:{}},{id:"wide",label:"Широкий кадр",summary:"Более широкий угол и чистая геометрия",overrides:{focal_length_mm:24,aperture:"f/4"}},{id:"tight",label:"Плотный портрет",summary:"Более плотный портретный фокус",overrides:{focal_length_mm:85,aperture:"f/2.0"}},{id:"dynamic",label:"Динамика",summary:"Контрастная драматичная пластика света",overrides:{lighting_style:"Контровой свет с плотным контрастом",lens_type:"Anamorphic Prime"}},{id:"soft-light",label:"Мягкий свет",summary:"Более мягкий свет и аккуратный контраст",overrides:{lighting_style:"Мягкий ключ с деликатным заполнением"}},{id:"clean-safe",label:"Чистый безопасный",summary:"Консервативная версия для стабильного результата",overrides:{aperture:"f/4",lens_type:"Master Prime"}}];function n(e){var t;let a,r=e.createdAt??new Date().toISOString();return{id:e.packId??(t=e.setup,a=function(e){let t=0x811c9dc5;for(let a=0;a<e.length;a+=1)t^=e.charCodeAt(a),t=Math.imul(t,0x1000193);return Math.abs(Math.floor(t))>>>0}(JSON.stringify(t)),`pack_${a}_${r.slice(0,19).replaceAll(":","").replace("T","_")}`),created_at:r,setup_snapshot:structuredClone(e.setup),variants:o.map(t=>{var a,r,l;let s=(a=e.setup.core6,r=t.overrides,{...a,...r});return{id:t.id,label:t.label,summary:t.summary,prompt_nano:(l=e.setup,`Nano Banana Pro Prompt
Intent: photoreal cinematic frame with production-safe clarity.
SCENE GOAL: ${l.scene_goal}
SCENE ACTION: ${l.scene_action}
SCENE ENVIRONMENT: ${l.scene_environment}
CAMERA FORMAT: ${s.camera_format}
LENS TYPE: ${s.lens_type}
FOCAL LENGTH: ${s.focal_length_mm}mm
APERTURE: ${s.aperture}
LIGHTING STYLE: ${s.lighting_style}
CHARACTER LOCK: ${l.locked_core.character_lock}
STYLE LOCK: ${l.locked_core.style_lock}
COMPOSITION LOCK: ${l.locked_core.composition_lock}
NEGATIVE LOCK: ${l.locked_core.negative_lock}
TEXT POLICY: ${l.locked_core.text_policy}
QUALITY NOTES: avoid artifacts, preserve visual consistency, no text in frame.`)}})}}let c=["Все","Люди","Мода","Еда","Медицина"],d=[{name:"Digital Full Frame",character:"Базовый современный full-frame: чисто, предсказуемо, универсально.",best_for:["универсальная коммерция","быстрый старт без риска","контент на каждый день"],best_combo:{lens_profile:"Spherical Prime",focal_mm:35,aperture:"f/2.8",light:"Мягкий ключ с деликатным заполнением"}},{name:"ARRI ALEXA Mini LF",character:"Кино-цвет, мягкий roll-off в светах, дорогой тон кожи.",best_for:["портрет","fashion-film эстетика","премиальная реклама"],best_combo:{lens_profile:"Master Prime",focal_mm:85,aperture:"f/2.0",light:"Rembrandt"}},{name:"RED V-RAPTOR 8K VV",character:"Высокая детализация и запас для кропа/поста; хорошо для VFX.",best_for:["ночные сцены","контрастные сцены","дальние планы","VFX-heavy"],best_combo:{lens_profile:"Telephoto Prime",focal_mm:135,aperture:"f/2.8",light:"Blue hour ambient"}},{name:"Sony A1",character:"Быстрый гибрид с точным автофокусом и стабильной резкостью.",best_for:["макро еды","динамичная предметка","коммерция в темпе"],best_combo:{lens_profile:"Macro 100mm",focal_mm:100,aperture:"f/4",light:"Softbox overhead"}},{name:"Canon EOS R5",character:"Мягкий skin-tone и аккуратный контраст в портретах.",best_for:["портрет","beauty","контент для брендов одежды"],best_combo:{lens_profile:"Spherical Prime",focal_mm:50,aperture:"f/2.0",light:"Beauty dish frontal"}},{name:"Nikon Z8",character:"Плотная детализация и контроль текстур.",best_for:["текстуры тканей","предметка","архитектурные детали"],best_combo:{lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/5.6",light:"Split lighting"}},{name:"Fujifilm GFX100 II",character:"Medium format пластика: плавные градиенты, чистые тона, премиальный микроконтраст.",best_for:["fashion/beauty","текстуры и материалы","премиальная предметка","крупные планы"],best_combo:{lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/5.6",light:"Split lighting"}},{name:"Hasselblad X2D 100C",character:"Натуральная цветопередача и спокойная тональность; отлично для skin-texture.",best_for:["макро-портрет","beauty-деталь","текстура кожи/макияжа"],best_combo:{lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/4",light:"Butterfly / Paramount"}},{name:"Blackmagic URSA Mini Pro 12K",character:"Кино-ориентированная детализация и запас под пост/клинап.",best_for:["постановочные сцены","студийный продакшн","multi-cam","VFX/cleanup"],best_combo:{lens_profile:"Spherical Prime",focal_mm:35,aperture:"f/2.8",light:"Кинематографичный направленный ключ"}}],m=[{label:"14-20 мм",use:["архитектура","establishing","драматичная перспектива"]},{label:"24 мм",use:["широкие планы","интерьеры","окружение героя"]},{label:"35 мм",use:["сторителлинг","лайфстайл","репортажный кино-look"]},{label:"50 мм",use:["универсал","натуральные пропорции","предметка без искажений"]},{label:"85 мм",use:["классический портрет","премиальный look","separation"]},{label:"100-105 мм",use:["макро","детали","еда","beauty-кроп"]},{label:"135 мм",use:["дальний план","компрессия","телепортрет"]},{label:"200+ мм",use:["спорт/сцена","стрит издалека","сильная компрессия"]}],p=[{name:"Мягкий ключ с деликатным заполнением",best_for:["универсальная коммерция","лайфстайл","чистый портрет"]},{name:"Кинематографичный направленный ключ",best_for:["кино-портрет","драматургия","премиальный объем"]},{name:"Контровой свет с плотным контрастом",best_for:["силуэт","отделение от фона","ночной контраст"]},{name:"Естественный свет через облачность",best_for:["натуральный lifestyle","дневной контент"]},{name:"Практические источники в кадре",best_for:["night mood","интерьер","мотивированный свет"]},{name:"Butterfly / Paramount",best_for:["beauty","макро-портрет","глянец"]},{name:"Rembrandt",best_for:["премиальный портрет","fashion-film","объем"]},{name:"Split lighting",best_for:["текстуры ткани","предметка","фактура материала"]},{name:"Golden hour backlight",best_for:["outdoor портрет","fashion на улице","романтика"]},{name:"Blue hour ambient",best_for:["ночной mood","дальний план","атмосфера"]},{name:"Softbox overhead",best_for:["макро еда","tabletop","съемка сверху"]},{name:"Beauty dish frontal",best_for:["beauty","портрет для брендов","поп-глянец"]}],x=[{id:"food-macro",task:"Макро еда",category:"Еда",description:"Фактура блюда крупным планом, чистая коммерция.",camera:"Sony A1",lens_profile:"Macro 100mm",focal_mm:100,aperture:"f/4",light:"Softbox overhead"},{id:"fabric-texture",task:"Текстуры одежды",category:"Мода",description:"Ткани, швы и объем материала, максимальная читаемость фактуры.",camera:"Fujifilm GFX100 II",lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/5.6",light:"Split lighting"},{id:"portrait",task:"Портрет",category:"Люди",description:"Чистый крупный портрет с кино-пластикой.",camera:"ARRI ALEXA Mini LF",lens_profile:"Master Prime",focal_mm:85,aperture:"f/2.0",light:"Rembrandt"},{id:"macro-portrait",task:"Макро портрет",category:"Люди",description:"Скин-текстура и бьюти-деталь без лишней жесткости.",camera:"Hasselblad X2D 100C",lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/4",light:"Butterfly / Paramount"},{id:"night-distance",task:"Ночной дальний",category:"Люди",description:"Темная сцена с дальним планом, атмосфера сумерек.",camera:"RED V-RAPTOR 8K VV",lens_profile:"Telephoto Prime",focal_mm:135,aperture:"f/2.8",light:"Blue hour ambient"},{id:"studio-interview",task:"Интервью в студии",category:"Люди",description:"Кино-интервью: мягкий объем, контролируемые тени, премиальный тон кожи.",camera:"Blackmagic URSA Mini Pro 12K",lens_profile:"Spherical Prime",focal_mm:50,aperture:"f/2.8",light:"Кинематографичный направленный ключ"},{id:"fashion-catalog",task:"Каталожка одежды на модели",category:"Мода",description:"Чисто, ровно, без сюрпризов: цвета и детали читаются стабильно.",camera:"Digital Full Frame",lens_profile:"Spherical Prime",focal_mm:50,aperture:"f/4",light:"Мягкий ключ с деликатным заполнением"},{id:"beauty-gloss",task:"Beauty (глянцевый портрет)",category:"Мода",description:"Ровная кожа, аккуратный контраст, контролируемые блики.",camera:"Canon EOS R5",lens_profile:"Spherical Prime",focal_mm:85,aperture:"f/2.0",light:"Beauty dish frontal"},{id:"jewelry-macro",task:"Украшения / ювелирка макро",category:"Мода",description:"Максимум фактуры металла/камней, графичный объем.",camera:"Nikon Z8",lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/8",light:"Split lighting"},{id:"cosmetics-packshot",task:"Косметика packshot (премиум)",category:"Мода",description:"Чистый премиальный продукт с мягкими градиентами и контролем бликов.",camera:"Fujifilm GFX100 II",lens_profile:"Macro 100mm",focal_mm:105,aperture:"f/8",light:"Мягкий ключ с деликатным заполнением"},{id:"hero-product-contrast",task:"Предметка герой-кадр (high-contrast)",category:"Еда",description:"Отделение от фона, выразительный контур и глубина.",camera:"Digital Full Frame",lens_profile:"Spherical Prime",focal_mm:85,aperture:"f/4",light:"Контровой свет с плотным контрастом"},{id:"lifestyle-day",task:"Лайфстайл портрет днем",category:"Люди",description:"Натуральный дневной портрет, мягкие градиенты, естественная кожа.",camera:"Canon EOS R5",lens_profile:"Spherical Prime",focal_mm:50,aperture:"f/2.8",light:"Естественный свет через облачность"},{id:"outdoor-fashion-golden",task:"Outdoor fashion на закате",category:"Мода",description:"Теплый контровой, воздушная картинка, романтика и объем.",camera:"ARRI ALEXA Mini LF",lens_profile:"Spherical Prime",focal_mm:50,aperture:"f/2.8",light:"Golden hour backlight"},{id:"neon-city-portrait",task:"Портрет в неоне / в городе",category:"Люди",description:"Ночной портрет с атмосферой, свет мотивирован окружением.",camera:"RED V-RAPTOR 8K VV",lens_profile:"Spherical Prime",focal_mm:35,aperture:"f/2.0",light:"Практические источники в кадре"},{id:"wide-interior-architecture",task:"Архитектура интерьер (широкий)",category:"Медицина",description:"Читаемость пространства, аккуратные линии, естественный вид.",camera:"Nikon Z8",lens_profile:"Wide Prime",focal_mm:24,aperture:"f/5.6",light:"Естественный свет через облачность"},{id:"cinema-broll-details",task:"Кино-b-roll (детали рук/объектов)",category:"Люди",description:"Кино-детали с направленным объемом и контролем фона.",camera:"ARRI ALEXA Mini LF",lens_profile:"Spherical Prime",focal_mm:35,aperture:"f/2.8",light:"Кинематографичный направленный ключ"},{id:"dynamic-product",task:"Динамичная предметка (в темпе)",category:"Еда",description:"Быстрое движение, надежная резкость и контроль деталей.",camera:"Sony A1",lens_profile:"Spherical Prime",focal_mm:35,aperture:"f/2.8",light:"Мягкий ключ с деликатным заполнением"},{id:"outdoor-sport-action",task:"Спорт / экшен на улице",category:"Люди",description:"Сильное отделение, энергия, объем за счет контрового и солнца.",camera:"Sony A1",lens_profile:"Telephoto Prime",focal_mm:135,aperture:"f/2.8",light:"Golden hour backlight"},{id:"fashion-flatlay",task:"Флетлей fashion (вид сверху)",category:"Мода",description:"Ровная раскладка одежды/аксессуаров сверху, чистая коммерция.",camera:"Sony A1",lens_profile:"Spherical Prime",focal_mm:35,aperture:"f/4",light:"Softbox overhead"},{id:"night-silhouette",task:"Ночной силуэт / контур",category:"Люди",description:"Графичный контур и драматичный контраст, герой отделен от фона.",camera:"RED V-RAPTOR 8K VV",lens_profile:"Spherical Prime",focal_mm:50,aperture:"f/2.8",light:"Контровой свет с плотным контрастом"}],h="prompt-copilot/cinema/setup",u="prompt-copilot/cinema/packs",b="prompt-copilot/cinema/tab",g=["Digital Full Frame","ARRI ALEXA Mini LF","RED V-RAPTOR 8K VV","Sony A1","Canon EOS R5","Nikon Z8","Fujifilm GFX100 II","Blackmagic URSA Mini Pro 12K","Hasselblad X2D 100C","Classic 16mm Film"],f=["Spherical Prime","Wide Prime","Anamorphic","Anamorphic Prime","Vintage Prime","Master Prime","Zoom","Zoom Cine","Macro 100mm","Tilt-Shift","Telephoto Prime"],_=["f/1.2","f/1.4","f/1.8","f/2.0","f/2.8","f/4","f/5.6","f/8"],y=["Мягкий ключ с деликатным заполнением","Кинематографичный направленный ключ","Контровой свет с плотным контрастом","Естественный свет через облачность","Практические источники в кадре","Butterfly / Paramount","Rembrandt","Split lighting","Golden hour backlight","Blue hour ambient","Softbox overhead","Beauty dish frontal"],w=[16,24,28,35,50,85,105,135,200];function j(e){return{preset_id:e.id,preset_title:e.title,scene_goal:`Передать настроение \xab${e.mood}\xbb через ${e.shot_type} кадр`,scene_action:"Главный герой уверенно движется в кадре",scene_environment:"Кинематографичная локация с читаемой глубиной",core6:{...e.core6_defaults},locked_core:{...e.locked_core_defaults}}}function N(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function v(e){let t=new Date(e);return`${t.toLocaleDateString("ru-RU")} ${t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}`}function k(e,t,a){let r=new Blob([t],{type:a}),l=URL.createObjectURL(r),s=document.createElement("a");s.href=l,s.download=e,document.body.append(s),s.click(),s.remove(),URL.revokeObjectURL(l)}function z(e){return e.prompt_nano}function C(){var e;let r=i[0]??null,l=r?j(r):{preset_id:null,preset_title:"",scene_goal:"",scene_action:"",scene_environment:"",core6:{camera_format:g[0],lens_type:f[0],focal_length_mm:35,aperture:_[2],lighting_style:y[1],camera_movement:"Статичный кадр"},locked_core:{character_lock:"",style_lock:"",composition_lock:"",negative_lock:"",text_policy:"NO-TEXT STRICT"}},[s,o]=(0,a.useState)(()=>N(localStorage.getItem(b))??"gallery"),[C,S]=(0,a.useState)(""),[P,A]=(0,a.useState)("Все"),[R,$]=(0,a.useState)("tasks"),[E,L]=(0,a.useState)(""),[M,T]=(0,a.useState)("Все"),[I,O]=(0,a.useState)(!1),[F,B]=(0,a.useState)(()=>N(localStorage.getItem(h))??l),[D,V]=(0,a.useState)(()=>N(localStorage.getItem(u))??[]),[X,G]=(0,a.useState)(null),[U,K]=(0,a.useState)(8),[J,Z]=(0,a.useState)(()=>{let e=N(localStorage.getItem(u))??[];return e[0]?.id??null}),[H,Y]=(0,a.useState)(null),[W,Q]=(0,a.useState)(null);(0,a.useEffect)(()=>{localStorage.setItem(h,JSON.stringify(F))},[F]),(0,a.useEffect)(()=>{localStorage.setItem(u,JSON.stringify(D))},[D]),(0,a.useEffect)(()=>{localStorage.setItem(b,JSON.stringify(s))},[s]),(0,a.useEffect)(()=>{K(8)},[C,P]),(0,a.useEffect)(()=>{if(!W)return;let e=window.setTimeout(()=>{Q(null)},2200);return()=>{window.clearTimeout(e)}},[W]),(0,a.useEffect)(()=>{"studio"!==s&&O(!1)},[s]);let q=(0,a.useMemo)(()=>{let e=C.trim().toLowerCase(),t=i.filter(e=>"Все"===P||e.category===P);return e?t.filter(t=>[t.title,t.mood,t.shot_type,t.category,t.description,...t.tags].join(" ").toLowerCase().includes(e)):t},[C,P]),ee=(0,a.useMemo)(()=>["Все",...Array.from(new Set(i.map(e=>e.category)))],[]),et=(0,a.useMemo)(()=>q.slice(0,Math.max(U,8)),[q,U]),ea=(0,a.useMemo)(()=>n({setup:F,packId:"preview",createdAt:"2026-02-12T00:00:00.000Z"}),[F]),er=(0,a.useMemo)(()=>{let e=E.trim().toLowerCase(),t="Все"===M?x:x.filter(e=>e.category===M);return e?t.filter(t=>[t.task,t.description,t.category,t.camera,t.lens_profile,t.light,t.aperture,String(t.focal_mm)].join(" ").toLowerCase().includes(e)):t},[M,E]),el=(0,a.useMemo)(()=>er.slice(0,9),[er]),es=(0,a.useMemo)(()=>{let e=E.trim().toLowerCase();return e?d.filter(t=>[t.name,t.character,...t.best_for].join(" ").toLowerCase().includes(e)):d},[E]),ei=(0,a.useMemo)(()=>d.find(e=>e.name===F.core6.camera_format)??null,[F.core6.camera_format]),eo=(0,a.useMemo)(()=>J?D.find(e=>e.id===J)??null:D[0]??null,[J,D]),en=e=>{Q({kind:"success",text:e})},ec=()=>{if(!F.scene_goal.trim()||!F.scene_action.trim()||!F.scene_environment.trim())return void Q({kind:"error",text:"Заполни цель, действие и окружение перед сборкой пакета"});let e=n({setup:F});G(e),V(t=>[e,...t].slice(0,50)),Z(e.id),en("Пакет из 6 вариаций собран")},ed=async e=>{try{await navigator.clipboard.writeText(e),Q({kind:"success",text:"Скопировано в буфер обмена"})}catch{Q({kind:"error",text:"Не удалось скопировать текст"})}},em=(e,t)=>{B(a=>({...a,core6:{...a.core6,[e]:t}}))},ep=e=>`rounded-full px-5 py-2 text-[15px] font-medium transition ${s===e?"bg-white text-[#0f0f12] shadow-[0_8px_30px_rgba(255,255,255,0.12)]":"bg-white/[0.06] text-zinc-300 hover:bg-white/[0.12]"}`,ex=["h-44","h-72","h-56","h-80","h-52","h-64"];return(0,t.jsxs)("div",{className:"min-h-screen bg-[#040405] text-zinc-100",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_18%_2%,rgba(255,255,255,0.1),transparent_18%),radial-gradient(circle_at_82%_14%,rgba(255,255,255,0.06),transparent_20%)]"}),(0,t.jsxs)("div",{className:"relative mx-auto max-w-[1720px] px-4 pb-10 pt-6 md:px-8 lg:px-12",children:[(0,t.jsx)("header",{className:"rounded-[30px] border border-white/10 bg-[#08090b]/90 px-5 py-4 shadow-[0_18px_80px_rgba(0,0,0,0.45)] backdrop-blur-xl md:px-7",children:(0,t.jsxs)("div",{className:"grid items-center gap-4 lg:grid-cols-[1.1fr_1.2fr_1fr]",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"grid h-7 w-7 grid-cols-2 gap-[3px] rounded-full p-1",children:Array.from({length:4}).map((e,a)=>(0,t.jsx)("span",{className:"h-[6px] w-[6px] rounded-full bg-white/90"},`dot-${a}`))}),(0,t.jsx)("p",{className:"font-display text-[11px] uppercase tracking-[0.34em] text-zinc-500",children:"Cinema Studio"})]}),(0,t.jsx)("button",{"data-testid":"brand-home-btn",className:"text-left font-display text-4xl font-semibold tracking-tight text-zinc-100 transition hover:text-zinc-200 md:text-[44px]",onClick:()=>{Y(null),o("gallery")},children:"Prompt Copilot"})]}),(0,t.jsx)("div",{className:"rounded-full border border-white/10 bg-white/[0.06] px-5 py-3 shadow-[inset_0_1px_0_rgba(255,255,255,0.12)]",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 text-zinc-400",children:[(0,t.jsx)("span",{className:"text-base leading-none",children:"✦"}),(0,t.jsx)("input",{className:"w-full bg-transparent text-[15px] text-zinc-200 outline-none placeholder:text-zinc-500",placeholder:"Try ‘summer days in the mediterranean’",value:C,onChange:e=>S(e.target.value)})]})}),(0,t.jsxs)("nav",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,t.jsx)("button",{"data-testid":"tab-gallery",className:ep("gallery"),onClick:()=>o("gallery"),children:"Галерея"}),(0,t.jsx)("button",{"data-testid":"tab-studio",className:ep("studio"),onClick:()=>o("studio"),children:"Студия"}),(0,t.jsx)("button",{"data-testid":"tab-packs",className:ep("packs"),onClick:()=>o("packs"),children:"Пакеты"}),(0,t.jsx)("button",{className:ep("reference"),onClick:()=>o("reference"),children:"Справочник"}),(0,t.jsx)("button",{className:"ml-2 rounded-full bg-white px-6 py-2 text-[15px] font-semibold text-[#111214] shadow-[0_8px_30px_rgba(255,255,255,0.18)]",children:"Create"})]})]})}),"gallery"===s?(0,t.jsxs)("section",{className:"mt-4 rounded-[30px] border border-white/10 bg-[#07080a]/95 p-4 shadow-[0_18px_70px_rgba(0,0,0,0.4)] md:p-6",children:[(0,t.jsxs)("div",{className:"mb-5 flex items-end justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-display text-3xl font-semibold tracking-tight",children:"Для вас"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-500",children:"Подбери референс, открой готовый промпт и перенеси стиль в Студию."})]}),(0,t.jsxs)("div",{className:"hidden rounded-full border border-white/10 bg-white/[0.04] px-4 py-2 text-xs text-zinc-400 md:block",children:[q.length," пресетов"]})]}),(0,t.jsx)("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:ee.map(e=>(0,t.jsx)("button",{type:"button","data-testid":"Все"===e?"gallery-category-filter-all":`gallery-category-filter-${e.toLowerCase()}`,className:`rounded-full border px-3 py-1.5 text-xs transition ${P===e?"border-white/40 bg-white text-zinc-950":"border-white/15 bg-white/[0.04] text-zinc-300 hover:bg-white/[0.1]"}`,onClick:()=>A(e),children:e},e))}),(0,t.jsx)("div",{className:"columns-1 gap-4 sm:columns-2 xl:columns-4",children:et.map((e,a)=>(0,t.jsxs)("button",{type:"button","data-testid":"gallery-card",className:"group mb-4 block w-full break-inside-avoid overflow-hidden rounded-3xl border border-white/10 bg-white/[0.02] text-left transition hover:translate-y-[-2px] hover:border-white/25",onClick:()=>{Y(e)},children:[(0,t.jsx)("img",{src:e.image_url,alt:e.title,className:`w-full object-cover transition duration-500 group-hover:scale-[1.03] ${ex[a%ex.length]}`}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("p",{className:"font-display text-base text-zinc-100",children:e.title}),(0,t.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:e.description}),(0,t.jsx)("p",{className:"mt-2 inline-flex rounded-full bg-white/10 px-2 py-1 text-[10px] uppercase tracking-[0.12em] text-zinc-300",children:e.category})]})]},e.id))}),U<q.length?(0,t.jsx)("div",{className:"mt-2 flex justify-center",children:(0,t.jsx)("button",{type:"button",className:"rounded-full border border-white/20 bg-white/[0.05] px-6 py-2 text-sm text-zinc-200 transition hover:bg-white/[0.12]",onClick:()=>K(e=>e+8),children:"Еще"})}):null]}):null,"studio"===s?(0,t.jsxs)("section",{className:"mt-4 space-y-4 pb-28",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-[#07080a]/95 p-4 backdrop-blur-md md:p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-end justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-display text-3xl font-semibold tracking-tight",children:"Студия"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-400",children:"Выбери готовую задачу или камеру, примени сетап и собери Prompt Pack."})]}),(0,t.jsx)("div",{className:"inline-flex rounded-full border border-white/10 bg-white/[0.04] p-1",children:[{key:"tasks",label:"Задачи",testId:"studio-view-tasks"},{key:"cameras",label:"Камеры",testId:"studio-view-cameras"},{key:"reference",label:"Справка",testId:"studio-view-reference"}].map(e=>(0,t.jsx)("button",{type:"button","data-testid":e.testId,className:`rounded-full px-4 py-2 text-sm transition ${R===e.key?"bg-white text-zinc-950":"text-zinc-300 hover:bg-white/[0.08]"}`,onClick:()=>$(e.key),children:e.label},e.key))})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[(0,t.jsx)("div",{className:"min-w-[280px] flex-1 rounded-full border border-white/10 bg-[#101116] px-4 py-2",children:(0,t.jsx)("input",{className:"w-full bg-transparent text-sm text-zinc-200 outline-none placeholder:text-zinc-500",placeholder:"Поиск по задачам, камерам, свету",value:E,onChange:e=>L(e.target.value)})}),(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:c.map(e=>(0,t.jsx)("button",{type:"button",className:`rounded-full border px-3 py-1.5 text-xs transition ${M===e?"border-white/40 bg-white text-zinc-950":"border-white/15 bg-white/[0.04] text-zinc-300 hover:bg-white/[0.1]"}`,onClick:()=>T(e),children:e},e))})]}),"tasks"===R?(0,t.jsxs)("div",{className:"mt-5 grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[el.map(e=>(0,t.jsxs)("article",{"data-testid":"studio-task-card",className:"rounded-2xl border border-white/10 bg-[#101116] p-4",children:[(0,t.jsx)("p",{className:"font-display text-lg text-zinc-100",children:e.task}),(0,t.jsx)("p",{className:"mt-1 text-xs text-zinc-400",children:e.description}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2 text-[11px] text-zinc-300",children:[(0,t.jsx)("span",{className:"rounded-full border border-white/10 bg-white/[0.04] px-2 py-1",children:e.camera}),(0,t.jsx)("span",{className:"rounded-full border border-white/10 bg-white/[0.04] px-2 py-1",children:e.lens_profile}),(0,t.jsxs)("span",{className:"rounded-full border border-white/10 bg-white/[0.04] px-2 py-1",children:[e.focal_mm," мм"]}),(0,t.jsx)("span",{className:"rounded-full border border-white/10 bg-white/[0.04] px-2 py-1",children:e.aperture}),(0,t.jsx)("span",{className:"rounded-full border border-white/10 bg-white/[0.04] px-2 py-1",children:e.light})]}),(0,t.jsx)("button",{type:"button","data-testid":`studio-task-apply-${e.id}`,className:"mt-4 w-full rounded-full border border-white/20 bg-white/[0.06] px-3 py-2 text-xs text-zinc-200 transition hover:bg-white/[0.16]",onClick:()=>{B(t=>({...t,preset_id:e.id,preset_title:e.task,scene_goal:`Снять задачу \xab${e.task}\xbb с приоритетом на ${e.description.toLowerCase()}`,scene_action:`Сохранить чистый фокус и читаемость главного объекта для сцены \xab${e.task}\xbb.`,scene_environment:`Категория: ${e.category}. Подчеркнуть ${e.light.toLowerCase()}.`,core6:{...t.core6,camera_format:e.camera,lens_type:e.lens_profile,focal_length_mm:e.focal_mm,aperture:e.aperture,lighting_style:e.light}})),en(`Сетап \xab${e.task}\xbb применен`)},children:"Применить"})]},e.id)),0===el.length?(0,t.jsx)("p",{className:"text-sm text-zinc-400",children:"По фильтрам ничего не найдено, попробуй сбросить поиск."}):null]}):null,"cameras"===R?(0,t.jsx)("div",{className:"mt-5 grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:es.map(e=>(0,t.jsxs)("article",{"data-testid":"studio-camera-card",className:"rounded-2xl border border-white/10 bg-[#101116] p-4",children:[(0,t.jsx)("p",{className:"font-display text-base text-zinc-100",children:e.name}),(0,t.jsx)("p",{className:"mt-1 text-xs leading-relaxed text-zinc-400",children:e.character}),(0,t.jsxs)("p",{className:"mt-2 text-[11px] leading-relaxed text-zinc-300",children:[(0,t.jsx)("span",{className:"text-zinc-200",children:"Подходит для:"})," ",e.best_for.join(", ")]}),(0,t.jsxs)("p",{className:"mt-2 rounded-lg border border-white/10 bg-white/[0.04] px-2 py-1 text-[11px] text-zinc-300",children:["Лучшее сочетание: ",e.best_combo.lens_profile," • ",e.best_combo.focal_mm," мм •"," ",e.best_combo.aperture," • ",e.best_combo.light]}),(0,t.jsx)("button",{type:"button","data-testid":`studio-camera-apply-${e.name.toLowerCase().replaceAll(/[^a-z0-9]+/g,"-").replaceAll(/^-+|-+$/g,"")}`,className:"mt-4 w-full rounded-full border border-white/20 bg-white/[0.06] px-3 py-2 text-xs text-zinc-200 transition hover:bg-white/[0.16]",onClick:()=>{B(t=>({...t,core6:{...t.core6,camera_format:e.name,lens_type:e.best_combo.lens_profile,focal_length_mm:e.best_combo.focal_mm,aperture:e.best_combo.aperture,lighting_style:e.best_combo.light}})),en(`Камера \xab${e.name}\xbb и лучший сетап применены`)},children:"Применить best combo"})]},e.name))}):null,"reference"===R?(0,t.jsxs)("div",{className:"mt-5 grid gap-4 xl:grid-cols-2",children:[(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-4",children:[(0,t.jsx)("h3",{className:"font-display text-lg text-zinc-100",children:"Фокусные расстояния"}),(0,t.jsx)("div",{className:"mt-3 space-y-2",children:m.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-zinc-200",children:e.label}),(0,t.jsx)("p",{className:"mt-1 text-[11px] text-zinc-400",children:e.use.join(", ")})]},e.label))})]}),(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-4",children:[(0,t.jsx)("h3",{className:"font-display text-lg text-zinc-100",children:"Световые схемы"}),(0,t.jsx)("div",{className:"mt-3 space-y-2",children:p.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/[0.03] p-2",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-zinc-200",children:e.name}),(0,t.jsx)("p",{className:"mt-1 text-[11px] text-zinc-400",children:e.best_for.join(", ")})]},e.name))})]})]}):null]}),(0,t.jsx)("aside",{className:"sticky bottom-4 z-20 rounded-2xl border border-white/15 bg-[#090a0d]/95 p-4 shadow-[0_18px_60px_rgba(0,0,0,0.45)] backdrop-blur",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsxs)("div",{"data-testid":"studio-current-setup",className:"text-sm text-zinc-200",children:[(0,t.jsx)("p",{className:"font-display text-base",children:"Текущий сетап"}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-zinc-400",children:[F.core6.camera_format," • ",F.core6.lens_type," • ",F.core6.focal_length_mm," мм •"," ",F.core6.aperture," • ",F.core6.lighting_style]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("button",{type:"button","data-testid":"studio-open-prompt-drawer",className:"rounded-full border border-white/20 bg-white/[0.06] px-4 py-2 text-sm text-zinc-200 transition hover:bg-white/[0.14]",onClick:()=>O(!0),children:"Показать итоговый промпт"}),(0,t.jsx)("button",{"data-testid":"generate-pack-btn",className:"rounded-full bg-white px-5 py-2 text-sm font-semibold text-zinc-950 transition hover:bg-zinc-200",onClick:ec,children:"Собрать Prompt Pack (6)"})]})]})}),I?(0,t.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/75 p-3 md:p-6",children:(0,t.jsxs)("section",{"data-testid":"studio-split-view",className:"max-h-[95vh] w-full max-w-[1500px] overflow-hidden rounded-3xl border border-white/15 bg-[#07080a] shadow-[0_40px_140px_rgba(0,0,0,0.7)]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 px-4 py-3 md:px-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-display text-xl font-semibold tracking-tight text-zinc-100",children:"Точная настройка + итоговый промпт"}),(0,t.jsx)("p",{className:"text-xs text-zinc-400",children:"Слева настрой параметры, справа сразу смотри итоговый текст."})]}),(0,t.jsx)("button",{type:"button","data-testid":"studio-close-prompt-drawer",className:"rounded-full border border-white/20 bg-white/[0.06] px-3 py-1 text-xs text-zinc-200 transition hover:bg-white/[0.14]",onClick:()=>O(!1),children:"Закрыть"})]}),(0,t.jsxs)("div",{className:"grid max-h-[calc(95vh-72px)] gap-0 xl:grid-cols-[1fr_1fr]",children:[(0,t.jsxs)("div",{className:"overflow-auto border-b border-white/10 p-4 md:p-5 xl:border-b-0 xl:border-r",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Цель сцены"}),(0,t.jsx)("input",{"data-testid":"scene-goal-input",className:"w-full rounded-xl border border-white/15 bg-[#101116] px-3 py-2 text-sm text-zinc-100",value:F.scene_goal,onChange:e=>B(t=>({...t,scene_goal:e.target.value}))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Действие сцены"}),(0,t.jsx)("input",{"data-testid":"scene-action-input",className:"w-full rounded-xl border border-white/15 bg-[#101116] px-3 py-2 text-sm text-zinc-100",value:F.scene_action,onChange:e=>B(t=>({...t,scene_action:e.target.value}))})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Окружение сцены"}),(0,t.jsx)("input",{"data-testid":"scene-environment-input",className:"w-full rounded-xl border border-white/15 bg-[#101116] px-3 py-2 text-sm text-zinc-100",value:F.scene_environment,onChange:e=>B(t=>({...t,scene_environment:e.target.value}))})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-3 md:col-span-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Камера"}),(0,t.jsx)("select",{"data-testid":"pro-camera-select",className:"mt-2 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-sm text-zinc-100",value:F.core6.camera_format,onChange:e=>em("camera_format",e.target.value),children:g.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),ei?(0,t.jsxs)("p",{className:"mt-2 text-xs leading-relaxed text-zinc-400",children:[ei.character,(0,t.jsxs)("span",{className:"text-zinc-300",children:[" Лучше для: ",ei.best_for.join(", "),"."]})]}):null]}),(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-3",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Объектив"}),(0,t.jsx)("select",{className:"mt-2 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-sm text-zinc-100",value:F.core6.lens_type,onChange:e=>em("lens_type",e.target.value),children:f.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-3",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Диафрагма"}),(0,t.jsx)("select",{className:"mt-2 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-sm text-zinc-100",value:F.core6.aperture,onChange:e=>em("aperture",e.target.value),children:_.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-3 md:col-span-2",children:[(0,t.jsxs)("p",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:["Фокусное расстояние: ",F.core6.focal_length_mm," мм"]}),(0,t.jsx)("input",{type:"range",min:14,max:200,step:1,value:F.core6.focal_length_mm,onChange:e=>em("focal_length_mm",Number(e.target.value)),className:"mt-2 w-full accent-white"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-1.5",children:w.map(e=>(0,t.jsxs)("button",{type:"button",className:`rounded-full border px-2 py-1 text-[11px] transition ${F.core6.focal_length_mm===e?"border-white/40 bg-white text-zinc-950":"border-white/15 bg-white/[0.04] text-zinc-300 hover:bg-white/[0.1]"}`,onClick:()=>em("focal_length_mm",e),children:[e," мм"]},e))}),(0,t.jsx)("p",{className:"mt-2 text-xs text-zinc-400",children:(e=F.core6.focal_length_mm)<=24?"Широкий угол для окружения и пространства.":e<=35?"Универсальный репортажный угол.":e<=60?"Нейтральный универсальный диапазон.":e<=105?"Портрет/деталь с мягкой компрессией.":"Теледиапазон для дальних планов и сжатой перспективы."})]}),(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#101116] p-3 md:col-span-2",children:[(0,t.jsx)("p",{className:"text-[11px] uppercase tracking-[0.16em] text-zinc-400",children:"Свет"}),(0,t.jsx)("select",{className:"mt-2 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-sm text-zinc-100",value:F.core6.lighting_style,onChange:e=>em("lighting_style",e.target.value),children:y.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("details",{className:"mt-4 rounded-2xl border border-white/10 bg-[#101116] p-3",children:[(0,t.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-zinc-200",children:"Locked Core"}),(0,t.jsxs)("div",{className:"mt-3 grid gap-2",children:[(0,t.jsx)("textarea",{className:"h-16 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-xs text-zinc-200",value:F.locked_core.character_lock,onChange:e=>B(t=>({...t,locked_core:{...t.locked_core,character_lock:e.target.value}}))}),(0,t.jsx)("textarea",{className:"h-16 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-xs text-zinc-200",value:F.locked_core.style_lock,onChange:e=>B(t=>({...t,locked_core:{...t.locked_core,style_lock:e.target.value}}))}),(0,t.jsx)("textarea",{className:"h-16 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-xs text-zinc-200",value:F.locked_core.composition_lock,onChange:e=>B(t=>({...t,locked_core:{...t.locked_core,composition_lock:e.target.value}}))}),(0,t.jsx)("textarea",{className:"h-16 w-full rounded-lg border border-white/15 bg-[#0e1015] px-2 py-2 text-xs text-zinc-200",value:F.locked_core.negative_lock,onChange:e=>B(t=>({...t,locked_core:{...t.locked_core,negative_lock:e.target.value}}))})]})]})]}),(0,t.jsxs)("div",{className:"overflow-auto p-4 md:p-5",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)("h4",{className:"font-display text-lg font-semibold tracking-tight text-zinc-100",children:"Итоговый промпт"}),(0,t.jsx)("span",{className:"rounded-full border border-white/15 bg-[#101116] px-3 py-1 text-xs text-zinc-300",children:"Nano Banana Pro"})]}),(0,t.jsx)("pre",{"data-testid":"studio-prompt-text",className:"mt-3 max-h-[500px] overflow-auto rounded-2xl border border-white/10 bg-[#0d0e12] p-3 text-xs leading-relaxed text-zinc-200 whitespace-pre-wrap",children:z(ea.variants[0])}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",className:"rounded-full border border-white/20 bg-white/[0.06] px-3 py-1 text-xs text-zinc-200 transition hover:bg-white/[0.14]",onClick:()=>void ed(z(ea.variants[0])),children:"Скопировать промпт"}),(0,t.jsx)("button",{type:"button",className:"rounded-full bg-white px-4 py-1 text-xs font-semibold text-zinc-950 transition hover:bg-zinc-200",onClick:ec,children:"Собрать Prompt Pack (6)"})]})]})]})]})}):null,(0,t.jsxs)("section",{className:"rounded-3xl border border-white/10 bg-[#07080a]/95 p-4 backdrop-blur-md md:p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-display text-xl font-semibold tracking-tight",children:"Последний собранный пакет"}),X?(0,t.jsx)("p",{className:"text-xs text-zinc-400",children:v(X.created_at)}):null]}),X?(0,t.jsx)("div",{className:"mt-3 grid gap-3",children:X.variants.map(e=>(0,t.jsxs)("article",{"data-testid":"pack-variant-card",className:"rounded-2xl border border-white/10 bg-[#0d0e12] p-3",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-zinc-400",children:e.summary})]}),(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-zinc-200 hover:bg-white/20",onClick:()=>void ed(z(e)),children:"Копировать"})]}),(0,t.jsx)("pre",{className:"mt-2 max-h-36 overflow-auto rounded-xl border border-white/10 bg-[#0b0c10] p-2 text-[11px] whitespace-pre-wrap text-zinc-300",children:z(e)})]},e.id))}):(0,t.jsx)("p",{className:"mt-2 text-sm text-zinc-400",children:"После нажатия «Собрать Prompt Pack (6)» здесь появятся 6 готовых вариантов."})]})]}):null,"packs"===s?(0,t.jsxs)("section",{className:"mt-4 grid gap-4 xl:grid-cols-[1.1fr_1fr]",children:[(0,t.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-[#07080a]/95 p-4 backdrop-blur-md md:p-6",children:[(0,t.jsx)("h2",{className:"font-display text-3xl font-semibold tracking-tight",children:"Пакеты"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-400",children:"История собранных Prompt Pack, экспорт и быстрый возврат в Студию."}),(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[D.map(e=>(0,t.jsx)("article",{"data-testid":"pack-history-item",className:`rounded-2xl border p-3 transition ${J===e.id?"border-white/35 bg-white/[0.08]":"border-white/10 bg-[#101116]"}`,children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-mono text-xs text-zinc-300",children:e.id}),(0,t.jsx)("p",{className:"text-sm text-zinc-100",children:e.setup_snapshot.preset_title||"Custom setup"}),(0,t.jsx)("p",{className:"text-xs text-zinc-500",children:v(e.created_at)})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-zinc-200",onClick:()=>Z(e.id),children:"Open"}),(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-zinc-200",onClick:()=>{B(e.setup_snapshot),G(e),o("studio"),en(`Пакет ${e.id} открыт в Студии`)},children:"Reopen in Studio"}),(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-zinc-200",onClick:()=>{k(`${e.id}.json`,JSON.stringify(e,null,2),"application/json;charset=utf-8"),en(`Экспортирован ${e.id}.json`)},children:"Export JSON"}),(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-zinc-200",onClick:()=>{var t;return t=e,void(k(`${t.id}.csv`,["pack_id,created_at,preset_id,preset_title,variant_id,variant_label,prompt_nano",...[t].flatMap(e=>e.variants.map(t=>[e.id,e.created_at,e.setup_snapshot.preset_id??"",e.setup_snapshot.preset_title,t.id,t.label,t.prompt_nano])).map(e=>e.map(e=>{let t;return t=String(e).replaceAll('"','""'),/[",\n]/.test(t)?`"${t}"`:t}).join(","))].join("\n"),"text/csv;charset=utf-8"),en(`Экспортирован ${t.id}.csv`))},children:"Export CSV"})]})]})},e.id)),0===D.length?(0,t.jsx)("p",{className:"text-sm text-zinc-400",children:"Пока нет пакетов. Собери первый в Студии."}):null]})]}),(0,t.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-[#07080a]/95 p-4 backdrop-blur-md md:p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-display text-xl font-semibold tracking-tight",children:"Просмотр пакета"}),(0,t.jsx)("span",{className:"rounded-full border border-white/15 bg-[#101116] px-3 py-1 text-xs text-zinc-300",children:"Nano Banana Pro"})]}),eo?(0,t.jsx)("div",{className:"mt-3 space-y-3",children:eo.variants.map(e=>(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#0d0e12] p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:e.label}),(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-3 py-1 text-xs text-zinc-200",onClick:()=>void ed(z(e)),children:"Copy"})]}),(0,t.jsx)("pre",{className:"mt-2 max-h-40 overflow-auto rounded-xl border border-white/10 bg-[#0b0c10] p-2 text-[11px] whitespace-pre-wrap text-zinc-300",children:z(e)})]},e.id))}):(0,t.jsx)("p",{className:"mt-2 text-sm text-zinc-400",children:"Выбери пакет слева, чтобы увидеть варианты."})]})]}):null,"reference"===s?(0,t.jsxs)("section",{className:"mt-4 rounded-3xl border border-white/10 bg-[#07080a]/95 p-4 backdrop-blur-md md:p-6",children:[(0,t.jsx)("h2",{className:"font-display text-3xl font-semibold tracking-tight",children:"Справочник"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-400",children:"Быстрые карточки по Core 6: что это, как влияет и когда использовать."}),(0,t.jsx)("div",{className:"mt-5 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[{title:"Camera Format",what:"Тип сенсора и общий характер изображения.",impact:"Влияет на зерно, контраст и кино-ощущение.",when:"Digital Full Frame для чистоты, 16mm для фактуры.",phrase:"camera format: classic 16mm film"},{title:"Lens Type",what:"Оптический характер объектива.",impact:"Меняет пластику боке и геометрию кадра.",when:"Anamorphic для более драматичного кино-языка.",phrase:"lens type: anamorphic"},{title:"Focal Length",what:"Насколько широкий или плотный кадр.",impact:"Меняет перспективу и чувство дистанции.",when:"24mm для среды, 85mm для портрета/детали.",phrase:"focal length: 50mm"},{title:"Aperture",what:"Глубина резкости и визуальный акцент.",impact:"f/2.0 выделяет объект, f/4 стабилизирует сцену.",when:"Открытая диафрагма для эмоции, закрытая для контроля.",phrase:"aperture: f/2.8"},{title:"Lighting Style",what:"Режим света и контраста.",impact:"Формирует настроение и читаемость фактур.",when:"Soft key для lifestyle, directional key для drama.",phrase:"lighting style: directional cinematic key"},{title:"Camera Movement",what:"Характер движения камеры.",impact:"Влияет на темп и напряжение кадра.",when:"Slow push-in для нарастания, static для чистоты.",phrase:"camera movement: slow push-in"}].map(e=>(0,t.jsxs)("article",{className:"rounded-2xl border border-white/10 bg-[#0d0e12] p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-zinc-100",children:e.title}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-zinc-400",children:["Что это: ",e.what]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-zinc-400",children:["Влияние: ",e.impact]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-zinc-400",children:["Когда использовать: ",e.when]}),(0,t.jsx)("p",{className:"mt-3 rounded-lg bg-white/10 px-2 py-1 font-mono text-[11px] text-zinc-200",children:e.phrase})]},e.title))})]}):null]}),H?(0,t.jsx)("div",{className:"fixed inset-0 z-20 flex items-center justify-center bg-black/80 px-4 py-6","data-testid":"gallery-modal",children:(0,t.jsxs)("div",{className:"max-h-full w-full max-w-5xl overflow-auto rounded-[30px] border border-white/15 bg-[#07080a] p-4 shadow-[0_30px_120px_rgba(0,0,0,0.65)] md:p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-display text-xs uppercase tracking-[0.22em] text-zinc-500",children:"Gallery Reference"}),(0,t.jsx)("h3",{className:"font-display mt-1 text-3xl font-semibold tracking-tight",children:H.title}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-400",children:H.description})]}),(0,t.jsx)("button",{className:"rounded-full border border-white/20 px-3 py-1 text-xs text-zinc-200",onClick:()=>Y(null),children:"Закрыть"})]}),(0,t.jsxs)("div",{className:"mt-4 grid gap-4 md:grid-cols-[1fr_1fr]",children:[(0,t.jsx)("img",{src:H.image_url,alt:H.title,className:"h-full min-h-72 w-full rounded-3xl border border-white/10 object-cover"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"inline-flex rounded-full border border-white/15 bg-[#101116] px-3 py-1 text-xs text-zinc-300",children:"Nano Banana Pro"}),(0,t.jsx)("pre",{className:"mt-3 max-h-64 overflow-auto rounded-2xl border border-white/10 bg-[#0d0e12] p-3 text-xs leading-relaxed whitespace-pre-wrap text-zinc-200",children:H.example_prompts.nano}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,t.jsx)("button",{className:"rounded-full bg-white px-4 py-2 text-sm font-medium text-zinc-950",onClick:()=>void ed(H.example_prompts.nano),children:"Скопировать промпт"}),(0,t.jsx)("button",{className:"rounded-full bg-white/10 px-4 py-2 text-sm text-zinc-200",onClick:()=>{B(j(H)),o("studio"),Y(null),en(`Пресет \xab${H.title}\xbb применен в Студии`)},children:"Применить в Студию"})]})]})]})]})}):null,W?(0,t.jsx)("div",{className:"pointer-events-none fixed bottom-6 right-6 z-30 rounded-xl border border-white/15 bg-[#111217]/95 px-4 py-2 text-sm text-zinc-100 shadow-[0_12px_30px_rgba(0,0,0,0.45)] animate-toast-fade",children:(0,t.jsx)("span",{className:"error"===W.kind?"text-rose-300":"text-emerald-300",children:W.text})}):null]})}e.s(["default",()=>C],61023)}]);